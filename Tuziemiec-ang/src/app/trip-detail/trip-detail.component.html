<body>
    <div style="width: 100%; display: table;">
        <div style="display: table-row">
    
            <div class="Header">
                <div class="Name">Tuziemiec</div>
                <div class="Caption">Spotkajmy się!</div>
            </div>
        
            <div class="Text" *ngIf="isLoggedIn">
                {{trip.template.name}}
            </div>
        
            <div class="Text" *ngIf="!isLoggedIn">
                ZALOGUJ SIĘ ŻEBY KORZYSTAĆ Z FUNKCJONALNOŚCI!
            </div>
        
            <div class="Back" *ngIf="isLoggedIn">
                <div>
                    <button class="button" routerLink="/main">Wstecz</button>
                    <!-- <button class="button" routerLink="/" (click)="logout()">Wyloguj się</button> -->
                </div>
            </div>
    
                <div class="Back" *ngIf="!isLoggedIn">
                    <button class="button" routerLink="/">Strona główna! </button>
                </div>
            </div>
    </div>

    <div class="Trip-details shadow">
        <div class="Text3">Informacje</div>
        <div class="description">
            "{{this.trip.template.description}}"
        </div>
        <hr>

        <div class="wrapper">
            <div class="Text1">Miejsce: </div>
            <div class="Text2"> {{this.trip.template.place}} </div>

            <div class="Text1">Data: </div>
            <div class="Text2">{{this.trip.startDate}} - {{this.trip.endDate}} </div>

            <div class="Text1">Ocena:</div>
            <div class="Text2"> 
                <ng-template #t let-fill="fill">
                    <span class="star" [class.full]="fill === 100">
                        <span class="half" [style.width.%]="fill">★</span>☆
                      </span>
                </ng-template>
                <ngb-rating [max]="5" [(rate)]="trip.template.rating" [starTemplate]="t" [readonly]="true"></ngb-rating>
            </div>

            <div class="Text1">Ilość miejsc:</div>
            <div class="Text2"> {{this.trip.booking}} / {{this.trip.userLimit}} </div>

            <div class="Text1">Atrakcje:</div>
            <div class="Text2">
                <div *ngFor="let att of this.trip.template.attractions"> 
                    {{att.name}}
                </div>
            </div>
        </div>
    </div>

    <div class="Trip-comments shadow">
        <div class="Text3">
            Komentarze i oceny
        </div>
        <div *ngFor="let rev of reviews">
                <div class="Comment">
                    <div class="col1 ">
                       <b> Użytkownik: {{rev.participation.userId}}  </b><br>
                        Dodano: {{rev.commentDate}}             
                    </div>
        
                    <div class="col2">
                        <!-- {{rev.rating}} -->
                        <div class="comment-header">
                            {{rev.commentHeader}} 
                        </div>
                        <div class="comment-body">
                            {{rev.commentBody}}
                        </div>
                    </div>
        
                    <div class="col3 "> 
                        <ngb-rating [max]="5" [(rate)]="rev.rating" [readonly]="true"></ngb-rating> <br>
                        Uczestniczył: <br>
                        {{rev.participation.startDate}}
                    </div>
                </div>
                <hr>
        </div>
    </div>
</body>
